(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();function h(o){const e=window.devicePixelRatio||1,{clientWidth:n,clientHeight:r}=o,t=o.getContext("2d");t.setTransform(1,0,0,1,0,0),o.width=Math.floor(n*e),o.height=Math.floor(r*e),t.scale(e,e)}class p{constructor(){this.states=new Map}add(e,n){return this.states.set(e,n),this}change(e){var n,r,t,s;(r=(n=this.current)==null?void 0:n.exit)==null||r.call(n),this.current=this.states.get(e),(s=(t=this.current)==null?void 0:t.enter)==null||s.call(t)}update(e){var n,r;(r=(n=this.current)==null?void 0:n.update)==null||r.call(n,e)}}function m(o,e){function n(){const{width:r,height:t}=e.canvas;e.fillStyle="#C7CEEA",e.fillRect(0,0,r,t),e.fillStyle="#222",e.textAlign="center",e.font="32px sans-serif",e.fillText("Tap to Start",r/2,t/2)}return{enter(){n(),e.canvas.onclick=()=>o.change("play"),window.addEventListener("resize",n)},update(){},exit(){e.canvas.onclick=null,window.removeEventListener("resize",n)}}}class g{constructor(e,n){this.x=e,this.color=n}draw(e,n){e.save(),e.beginPath(),e.arc(this.x*e.canvas.width,e.canvas.height-40,20,0,Math.PI*2),e.fillStyle=this.color,e.globalAlpha=.5,e.fill(),e.restore()}}const w=["#FFD1DC","#B5EAD7","#C7CEEA","#FFDAC1","#E2F0CB"],y={colors:w};class C{constructor(){}update(e){}draw(e){const{width:n,height:r}=e.canvas;e.fillStyle="#C7CEEA",e.fillRect(0,0,n,r)}}const c=y.colors,v=()=>c[Math.floor(Math.random()*c.length)];function E(o){const e=[];let n=0;const r=new C;return{update(t){n-=t,n<=0&&(e.push(new g(Math.random(),v())),n=1.2),r.update(t),r.draw(o),e.forEach(s=>s.draw(o,t))}}}const l=document.querySelector("#game"),d=l.getContext("2d");h(l);window.addEventListener("resize",()=>h(l));const i=new p;i.add("menu",m(i,d)).add("play",E(d));i.change("menu");let u=performance.now();function f(o){const e=(o-u)/1e3;u=o,i.update(e),requestAnimationFrame(f)}requestAnimationFrame(f);
